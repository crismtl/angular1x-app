!function(){"use strict";function config($locationProvider,$routeProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/",{templateUrl:"views/post-list.tpl.html",controller:"PostListCtrl",controllerAs:"postlist"}).when("/post/:postId",{templateUrl:"views/post-detail.tpl.html",controller:"PostDetailCtrl",controllerAs:"postdetail"}).when("/new",{templateUrl:"views/post-create.tpl.html",controller:"PostCreateCtrl",controllerAs:"postcreate"})}angular.module("blog",["ngRoute","blog.controllers","blog.templates"]),angular.module("blog").config(config)}(),function(){"use strict";function PostListCtrl(Post){this.posts=Post.query()}function PostDetailCtrl($routeParams,Post,Comment,User){this.post={},this.comments={},this.user={};var self=this;Post.query({id:$routeParams.postId}).$promise.then(function(data){self.post=data[0],self.user=User.query({id:self.post.userId})},function(error){console.log(error)}),this.comments=Comment.query({postId:$routeParams.postId})}function PostCreateCtrl(Post){var self=this;this.create=function(){Post.save(self.post)}}angular.module("blog.controllers",["blog.services"]),angular.module("blog.controllers").controller("PostListCtrl",PostListCtrl).controller("PostDetailCtrl",PostDetailCtrl).controller("PostCreateCtrl",PostCreateCtrl)}(),function(){"use strict";function Post($resource,BaseUrl){return $resource(BaseUrl+"/posts/:postId",{postId:"@_id"})}function Comment($resource,BaseUrl){return $resource(BaseUrl+"/comments/:commentId",{commentId:"@_id"})}function User($resource,BaseUrl){return $resource(BaseUrl+"/users/:userId",{userId:"@_id"})}angular.module("blog.services",["ngResource"]),angular.module("blog.services").constant("BaseUrl","http://jsonplaceholder.typicode.com").factory("Post",Post).factory("Comment",Comment).factory("User",User)}(),angular.module("blog.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("views/post-create.tpl.html",'<section>\n  <form name="createPost" role="form" ng-submit="postcreate.create()">\n    <fieldset class="form-group">\n      <input class="form-control input-lg"\n             type="text"\n             placeholder="TÃ­tulo del Post"\n             ng-model="postcreate.post.title">\n    </fieldset>\n    <fieldset class="form-group">\n      <textarea class="form-control input-lg"\n                placeholder="Texto del Post"\n                ng-model="postcreate.post.text"></textarea>\n    </fieldset>\n    <hr>\n    <button class="btn btn-primary btn-lg"\n            type="submit" ng-disabled="!createPost.$valid">\n      <span class="fa fa-rocket"> Publicar</span>\n    </button>\n  </form>\n</section>\n'),$templateCache.put("views/post-detail.tpl.html",'<article class="blog-post">\n  <header class="blog-post-header">\n    <h1>{{postdetail.post.title}}</h1>\n  </header>\n  <p class="blog-post-body">\n    {{postdetail.post.body}}\n  </p>\n  <p>\n    Escrito por: <strong>{{postdetail.user[0].name}}</strong>\n    <span class="fa fa-mail"></span> {{postdetail.user[0].email}}\n  </p>\n</article>\n<aside class="comments">\n  <header class="comments-header">\n    <h3>\n      <span class="fa fa-comments"></span>Comentarios\n    </h3>\n  </header>\n  <ul class="comments-list">\n    <li class="comment-item" ng-repeat="comment in postdetail.comments">\n      <span class="fa fa-user"></span>\n      <span class="comment-author"></span>{{comment.email}}\n      <p class="comment-body">\n        {{comment.body}}\n      </p>\n    </li>\n  </ul>\n</aside>\n'),$templateCache.put("views/post-list.tpl.html",'<ul class="blog-post-list">\n  <li class="blog-post-link" ng-repeat="post in postlist.posts">\n    <a ng-href="/post/{{post.id}}">{{post.title}}</a>\n  </li>\n</ul>\n')}]);